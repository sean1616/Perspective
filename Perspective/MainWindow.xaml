<Window
    x:Class="Perspective.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Perspective"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="clr-namespace:Perspective.ViewModels"
    Title="MainWindow"
    Width="1000"
    Height="600"
    Loaded="Window_Loaded"
    mc:Ignorable="d">

    <Window.DataContext>
        <vm:VM />
    </Window.DataContext>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition Width="8*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="9*" />
        </Grid.RowDefinitions>
        <Border
            Grid.ColumnSpan="2"
            Background="#FF8EC0DC"
            BorderThickness="1" />
        <Grid Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Button
                x:Name="btn_addTagWindow"
                Click="Btn_addTagWindow_Click"
                Content="Tag"
                Style="{DynamicResource BtnStyle_FilePicBox}" />
            <Button
                x:Name="btn_open_tags_location"
                Grid.Row="1"
                Click="Btn_open_tags_location_Click"
                Content="Tags Location"
                Style="{DynamicResource BtnStyle_FilePicBox}" />
        </Grid>
        <Grid
            Grid.Row="1"
            Grid.Column="1"
            Margin="5,0,-5,0"
            Background="#FFFBFBFB">
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
                <RowDefinition Height="10*" />
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="12*" />
                    <ColumnDefinition />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <TextBox
                    x:Name="txt_path"
                    VerticalAlignment="Center"
                    VerticalContentAlignment="Center"
                    FontFamily="Segoe Print"
                    PreviewKeyDown="Txt_path_PreviewKeyDown"
                    Text="{Binding path}" />
                <Viewbox HorizontalAlignment="Left" />

                <Button Grid.Column="1" Content="V"/>
                <Button x:Name="btn_check_path"
                        Grid.Column="2" Content="O" Click="btn_check_path_Click"/>
            </Grid>

            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="9*" />
                    <ColumnDefinition />
                    <ColumnDefinition />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Button
                    x:Name="btn_tagClear"
                    Click="btn_tagClear_Click"
                    Content="X"
                    Style="{DynamicResource BtnStyle_TxtCenter}" />

                <Border Grid.Column="1" Background="#FFE7F1F0" />
                <ItemsControl
                    x:Name="itms_tags"
                    Grid.Column="1"
                    ItemsSource="{Binding list_tags}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Button
                                x:Name="btn_tag"
                                Margin="0,0,5,5"
                                Click="Btn_tag_Click"
                                MouseDown="btn_tag_MouseDown"
                                Content="{Binding}"
                                PreviewMouseRightButtonDown="btn_tag_PreviewMouseRightButtonDown" />
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>

                <ToggleButton
                    Grid.Column="2"
                    Content="Delete"
                    FontFamily="Segoe Print"
                    IsChecked="{Binding _isTagRemoveMode}" />
                <Button
                    x:Name="btn_saveTag"
                    Grid.Column="3"
                    Click="btn_saveTag_Click"
                    Content="Save"
                    FontFamily="Segoe Print"
                    Style="{DynamicResource BtnStyle_TxtCenter}" />
                <Button
                    x:Name="btn_RefreshTags"
                    Grid.Column="4"
                    Click="btn_RefreshTags_Click"
                    Content="Refresh"
                    FontFamily="Segoe Print"
                    Style="{DynamicResource BtnStyle_TxtCenter}" />
            </Grid>

            <Border Grid.Row="2" Background="White" />
            <ScrollViewer Grid.Row="2">
                <StackPanel>
                    <ItemsControl
                        x:Name="itms_directories"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top"
                        ItemsSource="{Binding list_dirNames}">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <UniformGrid Columns="9" />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Viewbox>
                                    <ToggleButton
                                        x:Name="tbtn_directories"
                                        Width="120"
                                        Height="120"
                                        Checked="tbtn_directories_Checked"
                                        MouseDoubleClick="tbtn_directories_MouseDoubleClick"
                                        Content="{Binding}"
                                        Style="{DynamicResource TBtn_DirBox}"
                                        Unchecked="tbtn_directories_Unchecked" />
                                </Viewbox>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>

                    <ItemsControl
                        x:Name="itms_files"
                        Grid.Row="2"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top"
                        ItemsSource="{Binding list_fileNames}">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <UniformGrid Columns="9" />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Viewbox>
                                    <ToggleButton
                                        x:Name="tbtn_files"
                                        Width="120"
                                        Height="120"
                                        Checked="tbtn_files_Checked"
                                        MouseDoubleClick="tbtn_files_MouseDoubleClick"
                                        Content="{Binding}"
                                        Style="{DynamicResource TBtn_FileBox}"
                                        Unchecked="tbtn_files_Unchecked" />
                                </Viewbox>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </ScrollViewer>


            <Border
                x:Name="border_msg"
                Grid.Row="4"
                Background="#FFA5E2DD" />
        </Grid>
    </Grid>
</Window>
